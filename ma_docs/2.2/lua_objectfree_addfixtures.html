<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" dir="ltr" class="">
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="MobileOptimized" content="width">
  <meta name="HandheldFriendly" content="true">
  <link rel='shortcut icon' href='../_webHelpImages/favicon.ico' /><link rel='icon' href='../_webHelpImages/favicon.ico' />
  <link rel='stylesheet' type='text/css' href='../_webHelpStyles/CHWebHelp.css?t=638792956347586627'/><link rel='stylesheet' type='text/css' href='../_webHelpStyles/CommonControls.css?t=638792956347586627'/><link rel='stylesheet' type='text/css' href='../_webHelpStyles/CommonControls/FontAwesome/css/font-awesome.min-ignore.css?t=638792956347586627'/><link rel='stylesheet' type='text/css' href='../_webHelpStyles/RTL.css?t=638792956347586627'/><link rel='stylesheet' type='text/css' href='../_webHelpStyles/z-Branding.css?t=638792956347586627'/>
  <script  src='../_webHelpScripts/Master/1-script.js?t=638792956347586627' type='text/javascript'></script><script  src='../_webHelpScripts/Master/toc_nav.js?t=638792956347586627' type='text/javascript'></script>
  
<script type="text/javascript">//<!--
appendEventHandler(window, 'load', function() {webHelpSelectTocNodeByExtId('lua_objectfree_addfixtures',true);});
//--></script><title>AddFixtures(table)</title><script type="text/javascript">//<!--
var imgPopupTexts={openInNewWindowText: 'Open in new window', closeText: 'Close'};var articleTitleText='AddFixtures(table)';
//--></script><link rel="stylesheet" type="text/css" href="../Styles/article-published.css"/><link rel="stylesheet" type="text/css" href="../Styles/grandma3-user-manual-publication/global-shared-style.css"/><link rel="stylesheet" type="text/css" href="../Styles/grandma3-user-manual-publication/SiteOffline.css"/><script src="../Scripts/article-published.js" type="text/javascript"></script><meta charset="utf-8"><meta http-equiv="Content-Type" content="text/html;charset=utf-8">
  
  <script src='../_webHelpScripts/video.js' type='text/javascript'></script>
  <script src='../_webHelpScripts/console.js' type='text/javascript'></script>
  <!-- Matomo -->
  <script>
    var _paq = window._paq = window._paq || [];
    /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
    _paq.push(['trackPageView']);
    _paq.push(['enableLinkTracking']);
    (function() {
      var u="https://stats.help.m-a-lighting.de/";
      _paq.push(['setTrackerUrl', u+'matomo.php']);
      _paq.push(['setSiteId', '2']);
      var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
      g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
    })();
  </script>
  <!-- End Matomo Code -->
</head>
<body class="WebHelp_body" onload="consoleSubInit();">
  <div id="pnlContainer" class="CHOffCanvasPanel_container">
    <div class="CHOffCanvasPanel_content">
      <nav id="pnlOffCanvasNav" class="CHOffCanvasPanel_nav noselect">
        <div id="pnlOffCanvasHeader" class="BaseMaster_offCanvasHeader">
        </div>
        <script  type='text/javascript'>//<!--
window['mobileMenu']=new CHMenu('pnlOffCanvasHeader',{"cssClasses":{"menu":null,"popup":null},"templates":{"itemContent":null,"treeItemContent":null,"dropDownArrow":null},"isMobileViewIfParentOverflow":false,"mobileViewMinWidthThreshold":-1,"selectedItemId":"tabContents","isAllowItemSelection":true,"isEscapeMenuItemText":true,"isUseFontAwesomeIcons":true,"fontAwesomeVersion":"4","isMovePopupToBodyChildLevel":true,"isShowPopupOnHover":false},[{"id":"menuItemMenu","t":"Menu","imgs":{},"c":[],"s":-1,"d":0,"e":0,"vals":{"_faIconCssClass":"","_popupPosition":"bottom"}},{"id":"tabContents","t":"Topics","imgs":{},"c":[],"s":-1,"d":0,"e":0,"vals":{"_faIconCssClass":"","_popupPosition":"bottom"}},{"id":"tabSearch","t":"Search","imgs":{},"c":[],"s":-1,"d":0,"e":0,"vals":{"_faIconCssClass":"","_popupPosition":"bottom"}}]);window['mobileMenu'].onItemClick=function(s,e){webHelpMobileMenuItemClick(s,e);};
//--></script>
        <div id="pnlOffCanvasContent" class="BaseMaster_offCanvasContent">
        </div>        
      </nav>
      <div id="pnlOffCanvasOverlay" class="CHOffCanvasPanel_overlay"></div>
      <nav id="pnlMainMenuContainer" class="BaseMaster_mainMenuContainer">
        <button type="button" aria-label="Show mobile menu" title="Show mobile menu" id="btnMobileMenu" style="display:none"
          class="CHHamburger_container CHHamburger_container-htla BaseMaster_hamburgerMenuIcon">
          <span></span>
        </button>
        <a title='As master distributor MA Lighting International is responsible for worldwide sales and marketing of the renowned MA control systems, digital dimming systems'  ><img alt='As master distributor MA Lighting International is responsible for worldwide sales and marketing of the renowned MA control systems, digital dimming systems' class='BaseMaster_imgLogo' src='../_webHelpImages/MA_Logo_2-farbig_cmyk.svg' /></a>
        <div id="pnlMainMenu" class="BaseMaster_pnlMainMenu"></div>
        <script  type='text/javascript'>//<!--
window['mainMenu']=new CHMenu('pnlMainMenu',{"cssClasses":{"menu":null,"popup":null},"templates":{"itemContent":null,"treeItemContent":null,"dropDownArrow":null},"isMobileViewIfParentOverflow":true,"mobileViewMinWidthThreshold":979,"selectedItemId":null,"isAllowItemSelection":false,"isEscapeMenuItemText":true,"isUseFontAwesomeIcons":true,"fontAwesomeVersion":"4","isMovePopupToBodyChildLevel":true,"isShowPopupOnHover":false},[]);window['mainMenu'].onViewSwitched=function(s,e){webHelpMasterPageMainMenuViewSwitched(s,e);};
//--></script>
        <div class="WebHelp_searchBoxContainer">
          <input id="edtSearch" type="search" class="WebHelp_searchBox" aria-label="Search" />
          <button id="btnSearch" class="btnSearch" alt="Search" title="Search" aria-label="Search" href="javascript:void(0)"></button>
        </div>
      </nav>
      <div id="pnlContentContainer" class="BaseMaster_contentContainer clearfix">
        <nav id="pnlArticlesNav" class="WebHelp_navPanel">
          <div id="pnlNavTabs" class="WebHelp_navMenu"></div>
          <script  type='text/javascript'>//<!--
window['navMenu']=new CHMenu('pnlNavTabs',{"cssClasses":{"menu":null,"popup":null},"templates":{"itemContent":null,"treeItemContent":null,"dropDownArrow":null},"isMobileViewIfParentOverflow":false,"mobileViewMinWidthThreshold":-1,"selectedItemId":"tabContents","isAllowItemSelection":true,"isEscapeMenuItemText":true,"isUseFontAwesomeIcons":true,"fontAwesomeVersion":"4","isMovePopupToBodyChildLevel":true,"isShowPopupOnHover":false},[{"id":"tabContents","t":"Topics","imgs":{},"c":[],"s":-1,"d":0,"e":0,"vals":{"_faIconCssClass":"","_popupPosition":"bottom"}},{"id":"tabSearch","t":"Search","imgs":{},"c":[],"s":-1,"d":0,"e":0,"vals":{"_faIconCssClass":"","_popupPosition":"bottom"}}]);window['navMenu'].onItemClick=function(s,e){webHelpNavMenuItemClick(s,e);};
//--></script>
          <div id="pnlTocContainer" class="WebHelp_navPanelContent ArticleSelector_tabContent TocTreeLight_container">
            <div id="pnlToc"></div>
          </div>
          <div id="pnlIndex" class="WebHelp_navPanelContent ArticleSelector_tabContent" style="display:none">
            <iframe id="frameIndex" style="height: 100%; width:100%; display:block;" frameborder="0"></iframe>
          </div>
          <div id="pnlSearch" class="WebHelp_navPanelContent ArticleSelector_tabContent" style="display:none">
            <iframe id="frameSearch" src="../search.html" style="height: 100%; width:100%; display: block;" frameborder="0"></iframe>
          </div>
        </nav>
        <article class="TopicViewer_container">
          <header id="pnlTopicHeader" class="TopicViewer_header" >
            <div class="TopicViewer_headerText">
              <div class="ArticleEditor_projectName">grandMA3 User Manual Publication</div>
              <h1 id="pnlTitle" class="ArticleEditor_title">AddFixtures(table)</h1>
              <button type="button" id="btnPrint" class="CHImageButton ArticleEditor_imageButton ArticleEditor_fontAwesomeButton ArticleEditor_btnPrint" title="Print this topic">
                <i class="fa fa-print"></i>
              </button>
            </div>
          </header>
          <div id="pnlTopicContentContainer" class="TopicViewer_contentContainer">
            <style>
  #body {
    margin-top: 0px;
    height: 100%;
  }
  
  .topic-tree {
    display: none
  }
  
  #offline-topic {
    margin-left: 10px;
  }
</style>


<div id="body">
  <main>
    <div id="offline-topic" class="topic-content">
      <div id="offline-content">
        <table class="FlatTable" cellspacing="0" cellpadding="0">
  <tbody>
    <tr>
      <td class="FlatTable  " style="width: 80%">
        <span class="CHBreadcrumb"><span class="CHBreadcrumb_item"><a href="help.html">grandMA3 User Manual</a></span><span class="CHBreadcrumb_separator"> » </span><span class="CHBreadcrumb_item"><a href="plugins.html">Plugins</a></span><span class="CHBreadcrumb_separator"> » </span><span class="CHBreadcrumb_item"><a href="lua_objectfree.html">Lua Functions - Object-Free API</a></span><span class="CHBreadcrumb_separator"> » </span><span class="CHBreadcrumb_item CHBreadcrumb_itemSelf">AddFixtures(table)</span></span>
        <br/>
      </td>
      <td style="text-align: right;">
        Version 2.2
        <br/>
      </td>
    </tr>
  </tbody>
</table>
        
        <h2 id="h2_873740972" data-has-heading-anchor="true">
          Description
        </h2>
        <p>
          The <strong>AddFixture</strong> Lua function adds fixtures to the patch. The argument for the function is a table, which must contain valid data for the function to succeed. The function returns a "true" boolean value if the addition was a success. The function must be run with the command line in the correct patch destination. 
          <br/>
        </p>
        <h2 id="h2__615384334" data-has-heading-anchor="true">
          Arguments
        </h2>
        <ul>
          <li>
            <b>Table</b>:
            <br/>
            The table must contain valid data. This is a list of possible table elements. It is not necessary to add all elements.
            <br/>
            <ul>
              <li>
                <b>mode</b>:
                <br/>
                This must be a <b>handle </b>to a valid "dmx_mode". This defines a specific fixture type in a specific mode.
                <br/>
              </li>
              <li>
                <b>amount</b>:
                <br/>
                This is an <b>integer </b>number that defines how many fixtures should be added.
                <br/>
              </li>
              <li>
                <b>name</b> (optional):
                <br/>
                This is a string with the name of the (first) fixture.
                <br/>
              </li>
              <li>
                <b>fid</b> (optional):
                <br/>
                This is a <b>string</b> with the fixture's FID.
                <br/>
              </li>
              <li>
                <b>cid </b>(optional):
                <br/>
                This is a <b>string</b> with the CID for the fixture. This table field is only valid if the "idtype" is not "Fixture".
                <br/>
              </li>
              <li>
                <b>idtype</b> (optional):
                <br/>
                This is a <b>string</b> with the name of the ID Type. This is only needed if the type is different than "Fixture".
                <br/>
              </li>
              <li>
                <b>patch</b> (optional):
                <br/>
                This is a <b>table</b> with up to eight <b>strings</b>. The string must indicate a universe and a start address in the universe. The two must be separated by a dot. Each table element is used for the up to eight DMX breaks in the patch.
                <br/>
              </li>
              <li>
                <b>layer</b> (optional):
                <br/>
                This is a <b>string</b> with the layer name.
                <br/>
              </li>
              <li>
                <b>class</b> (optional):
                <br/>
                This is a <b>string</b> with the class name.
                <br/>
              </li>
              <li>
                <b>parent</b> (optional):
                <br/>
                This is a <b>handle</b> of the parent fixture. It is only needed if the fixture should be a sub-fixture of an existing fixture.
              </li>
              <li>
                <b>insert_index</b> (optional):
                <br/>
                This is an <b>integer</b> indicating an insert index number.
                <br/>
              </li>
              <li>
                <b>undo</b> (optional):
                <br/>
                This is a <b>string</b> with an undo text.
                <br/>
              </li>
            </ul>
          </li>
        </ul>
        <h2 id="h2__607298120" data-has-heading-anchor="true">
          Return
        </h2>
        <ul>
          <li>
            <b>Boolean</b> or <b>nil</b>:
            <br/>
            The function returns a true boolean if the AddFixture function succeeded. It does not return anything (nil) if it fails.</li>
        </ul>
        <h2 id="h2_1689083776" data-has-heading-anchor="true">
          Example
        </h2>
        <p>
          This example adds a dimmer fixture with FID and CID 301 and patch address "10.001". It is a requirement that the generic dimmer type is already added to the show, that the ID and patch address are available, and that the stage is called "Stage 1". The example does not perform any check for availability.
          <br/>
        </p>
        <table class="CHCodeSample_container notranslate" cellspacing="0" cellpadding="0"><tr class="CHCodeSample_tr1"><td class="CHCodeSample_header"><div class="CHCodeSample_copyCode nonPrintable"><a onclick="copyCodeSample(this)" href="javascript:void(0)">Copy Code</a></div><div class="CHCodeSample_langName notranslate">Lua</div></td></tr><tr class="CHCodeSample_tr2"><td class="CHCodeSample_code notranslate cm-s-default"><pre><span class="cm-keyword">return</span> <span class="cm-keyword">function</span>()<br/>    <span class="cm-comment">-- Change the command line destination to the root.</span><br/>    <span class="cm-variable">Cmd</span>(<span class="cm-string">"ChangeDestination Root"</span>)<br/>    <span class="cm-comment">-- Enter the "Patch".</span><br/>    <span class="cm-variable">Cmd</span>(<span class="cm-string">'ChangeDestination "ShowData"."Patch"'</span>)<br/>    <span class="cm-comment">-- Enter the fixture location for the "Stage 1" object.</span><br/>    <span class="cm-variable">Cmd</span>(<span class="cm-string">'ChangeDestination "Stages"."Stage 1"."Fixtures"'</span>)<br/><br/>    <span class="cm-comment">-- Create a table.</span><br/>    <span class="cm-keyword">local</span> <span class="cm-variable">myAddFixtureTable</span> = {}<br/>    <span class="cm-comment">-- Set the mode to a 8-bit Dimmer fixture type. </span><br/>    <span class="cm-variable">myAddFixtureTable.mode</span> = <span class="cm-variable">Patch</span>().<span class="cm-variable">FixtureTypes.Dimmer.DMXModes</span>[<span class="cm-string">"Mode 0"</span>]<br/>    <span class="cm-comment">-- Set the amount of fixtures.</span><br/>    <span class="cm-variable">myAddFixtureTable.amount</span> = <span class="cm-number">1</span><br/>    <span class="cm-comment">-- Set the FID for the fixture.</span><br/>    <span class="cm-variable">myAddFixtureTable.fid</span> = <span class="cm-string">"301"</span><br/>    <span class="cm-comment">-- Set the IdType - it is not needed if the type is "Fixture".</span><br/>    <span class="cm-variable">myAddFixtureTable.idtype</span> = <span class="cm-string">"Channel"</span><br/>    <span class="cm-comment">-- Set the CID - Use only this when the "idtype" is different than Fixture.</span><br/>    <span class="cm-variable">myAddFixtureTable.cid</span> = <span class="cm-string">"301"</span><br/>    <span class="cm-comment">-- Set the name of the fixture.</span><br/>    <span class="cm-variable">myAddFixtureTable.name</span> = <span class="cm-string">"AddedDimmer 301"</span><br/>    <span class="cm-comment">-- Create a patch table with an address.</span><br/>    <span class="cm-variable">myAddFixtureTable.patch</span> = {<span class="cm-string">"10.001"</span>}<br/><br/>    <span class="cm-comment">-- Add the fixture to the patch using the table data. Store the result in a local variable.</span><br/>    <span class="cm-keyword">local</span> <span class="cm-variable">success</span> = <span class="cm-variable">AddFixtures</span>(<span class="cm-variable">myAddFixtureTable</span>)<br/>    <br/>    <span class="cm-comment">-- Provide some feedback.</span><br/>    <span class="cm-keyword">if</span> <span class="cm-variable">success</span> ~= <span class="cm-keyword">nil</span> <span class="cm-keyword">then</span><br/>        <span class="cm-variable">Printf</span>(<span class="cm-string">"Fixture "</span> .. <span class="cm-variable">myAddFixtureTable.fid</span> .. <span class="cm-string">" is added with patch address "</span> .. <span class="cm-variable">myAddFixtureTable.patch</span>[<span class="cm-number">1</span>])<br/>    <span class="cm-keyword">else</span><br/>        <span class="cm-variable">Printf</span>(<span class="cm-string">"AddFixture failed!"</span>)<br/>    <span class="cm-keyword">end</span><br/>    <br/>    <span class="cm-comment">-- Return the command line to the root destination.</span><br/>    <span class="cm-variable">Cmd</span>(<span class="cm-string">"ChangeDestination Root"</span>)<br/><span class="cm-keyword">end</span></pre></td></tr></table>
      </div>
      
      <div id="offline-subtopics">
        <h4 id="h4__1878216263">
          
        </h4>
        <ul>
        </ul>
      </div>
      
    </div>
  </main>
</div>
          </div>
        </article>
      </div>
    </div>
  </div>  
</body>
</html>
